"use strict";(self.webpackChunkAmoratto=self.webpackChunkAmoratto||[]).push([[269],{5269:function(a,e,t){t.r(e),t.d(e,{default:function(){return h}});var n=t(7899),i=t(8152),r=t(2791),s=t(7995),c=t(184),o=function(a){var e=a.setTextFilter,t=a.searchByText,n=a.searchByCategory,o=(0,r.useState)(),d=(0,i.Z)(o,2),u=d[0],l=d[1];(0,r.useEffect)((function(){s.Z.getListOfCategories().then((function(a){l(a.data)}))}),[]);var h=(0,r.useState)(),v=(0,i.Z)(h,2),g=v[0],f=v[1];return(0,c.jsxs)("div",{className:"filter_grid",children:[(0,c.jsx)("input",{className:"search_products",type:"text",placeholder:"Buscar Producto...",onChange:function(a){return e(a.target.value)}}),(0,c.jsx)("button",{className:"button",onClick:t,children:"Buscar"}),(0,c.jsxs)("div",{className:"categories_grid",children:[(0,c.jsx)("span",{className:"name_Category",children:"Categorias"}),null===u||void 0===u?void 0:u.map((function(a){return(0,c.jsxs)("label",{className:"container_category",children:[(0,c.jsx)("input",{type:"radio",checked:g===a.id,onClick:function(){g===a.id?(f(""),n("")):(f(a.id),n(a.id))},onChange:function(){}}),(0,c.jsx)("i",{}),(0,c.jsx)("span",{className:"radio_category",children:a.name})]},a.id)}))]})]})},d=t(2696),u=t(5053),l=t(4167),h=function(){var a=(0,d.Q)(),e=a.listProducts,t=a.pagination,i=a.loading,r=a.changePagination,s=a.setTextFilter,h=a.searchByText,v=a.searchByCategory;return(0,c.jsx)("div",{className:"dashboard_container",children:(0,c.jsxs)("div",{className:"dashboard_grid",children:[(0,c.jsx)("div",{className:"dashboard_filter",children:(0,c.jsx)(o,{setTextFilter:s,searchByText:h,searchByCategory:v})}),(0,c.jsx)("div",{className:"dashboard_products",children:(0,c.jsxs)("div",{className:"dashboard_container_products",children:[!i&&(0,c.jsx)("div",{className:"dashboard_products_grid",children:null===e||void 0===e?void 0:e.map((function(a,e){var t,i,r;return(0,c.jsx)(n.M,{categories:null===a||void 0===a||null===(t=a.itemCategory)||void 0===t?void 0:t.name,name:null===a||void 0===a?void 0:a.name,price:null===a||void 0===a||null===(i=a.price[0])||void 0===i?void 0:i.price,image:null!==a&&void 0!==a&&a.images?null===a||void 0===a||null===(r=a.images[0])||void 0===r?void 0:r.url:""},e)}))}),i&&(0,c.jsx)("div",{className:"spinner_container",children:(0,c.jsx)(l.$,{})}),!i&&(0,c.jsx)(u.d,{pagination:t,changePagination:r})]})})]})})}},7899:function(a,e,t){t.d(e,{M:function(){return i}});t(2791);var n=t(184),i=function(a){var e=a.categories,i=a.name,r=(a.price,a.image),s=void 0===r?"":r;return(0,n.jsxs)("div",{className:"card_container",children:[(0,n.jsx)("div",{className:"image_container",children:(0,n.jsx)("img",{src:s||t(5589),alt:""})}),(0,n.jsxs)("div",{className:"information_grid",children:[(0,n.jsx)("div",{className:"categories",children:(0,n.jsx)("h3",{children:e})}),(0,n.jsx)("div",{className:"name_product",children:(0,n.jsx)("h2",{children:i})}),(0,n.jsx)("div",{className:"btn"})]})]})}},4167:function(a,e,t){t.d(e,{$:function(){return i}});t(2791);var n=t(184),i=function(){return(0,n.jsx)("div",{className:"spinner"})}},5053:function(a,e,t){t.d(e,{d:function(){return r}});var n=t(8820),i=t(184),r=function(a){var e,t=a.pagination,r=a.changePagination;return(0,i.jsxs)("div",{className:"pages_container",children:[t.pages[0]>0&&(0,i.jsx)("a",{href:"##",onClick:function(){return r(t.pages[0]-1)},children:(0,i.jsx)(n.CF5,{})}),null===(e=t.pages)||void 0===e?void 0:e.map((function(a){return(0,i.jsx)("a",{href:"##",onClick:function(){return r(a)},children:a+1},a)})),t.totalPages>3&&t.pages[2]!==t.totalPages&&(0,i.jsx)("a",{href:"##",onClick:function(){return r(t.pages[0]+1)},children:(0,i.jsx)(n.Td4,{})})]})}},2696:function(a,e,t){t.d(e,{P:function(){return s},Q:function(){return c}});var n=t(8152),i=t(2791),r=t(7995),s=function(a,e){var t=[],n=e/10;if(a>n+3)for(var i=n;i<n+3;i++)t.push(i);else 1===a?t.push(0):2===a?(t.push(0),t.push(1)):3===a&&(t.push(0),t.push(1),t.push(2));return t},c=function(){var a=(0,i.useState)(),e=(0,n.Z)(a,2),t=e[0],c=e[1],o=(0,i.useState)(!0),d=(0,n.Z)(o,2),u=d[0],l=d[1],h=(0,i.useState)(),v=(0,n.Z)(h,2),g=v[0],f=v[1],m=(0,i.useState)(),p=(0,n.Z)(m,2),x=p[0],j=p[1],N=(0,i.useState)({start:0,totalPages:0,pages:[0]}),y=(0,n.Z)(N,2),_=y[0],C=y[1];(0,i.useEffect)((function(){b(_.start)}),[]);var b=function(a,e,t){l(!0),r.Z.getListOfProducts(a,e||"",t||"").then((function(e){var t,n,i,r,o;l(!1),c(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data),C({start:a,totalPages:Math.ceil((null===e||void 0===e||null===(n=e.data)||void 0===n||null===(i=n.metadata)||void 0===i?void 0:i.total)/10),pages:s(Math.ceil((null===e||void 0===e||null===(r=e.data)||void 0===r||null===(o=r.metadata)||void 0===o?void 0:o.total)/10),a)})})).catch((function(a){return console.log(a)}))};return{listProducts:t,pagination:_,loading:u,changePagination:function(a){b(10*a,g,x)},setTextFilter:f,searchByText:function(){b(_.start,g,x)},searchByCategory:function(a){b(0,g,a),j(a)}}}},7995:function(a,e,t){var n=t(5671),i=t(3144),r=t(4569),s=t.n(r),c="https://api.alegra.com/api/v1/",o={headers:{Authorization:"Basic bWF0ZW8uamFyYW1pbGxvcUB1ZGVhLmVkdS5jbzoxNjU4NmUyMTBiZWQ2MmRmNWI4NQ=="}},d=function(){function a(){(0,n.Z)(this,a)}return(0,i.Z)(a,[{key:"getListOfProducts",value:function(a,e,t){return s().get("".concat(c,"items/?start=").concat(a,"&limit=12&metadata=true&query=").concat(e,"&idItemCategory=").concat(t,"&inventariable=true"),o)}},{key:"getListOfCategories",value:function(){return s().get("".concat(c,"item-categories?start=0&limit=20&inventariable=true"),o)}}]),a}();e.Z=new d},5589:function(a,e,t){a.exports=t.p+"static/media/no_image.3f37e96d8d04d1e67452.jpg"}}]);
//# sourceMappingURL=269.b9b06baf.chunk.js.map